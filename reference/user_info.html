<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Well structured user information — user_info • fireproof</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Well structured user information — user_info"><meta property="og:description" content="Different services and authentication schemes may present user information in
different ways. To ensure ease of interoperability, fireproof will attempt to
standardize the information as it gets extracted by the service. This
function will generally not be called directly but serves to document the
different input that may be available in the setter() function that is
passed to the user_info arguments function. See the Value section for a
description on the structure of the stored information."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fireproof</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/thomasp85/fireproof/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Well structured user information</h1>
    <small class="dont-index">Source: <a href="https://github.com/thomasp85/fireproof/blob/main/R/user_info.R" class="external-link"><code>R/user_info.R</code></a></small>
    <div class="hidden name"><code>user_info.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Different services and authentication schemes may present user information in
different ways. To ensure ease of interoperability, fireproof will attempt to
standardize the information as it gets extracted by the service. This
function will generally not be called directly but serves to document the
different input that may be available in the <code>setter()</code> function that is
passed to the <code>user_info</code> arguments function. See the <em>Value</em> section for a
description on the structure of the stored information.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">user_info</span><span class="op">(</span></span>
<span>  provider <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name_display <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name_given <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name_middle <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name_family <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name_user <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  emails <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  photos <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-provider">provider<a class="anchor" aria-label="anchor" href="#arg-provider"></a></dt>
<dd><p>A string naming the provider of the user information</p></dd>


<dt id="arg-id">id<a class="anchor" aria-label="anchor" href="#arg-id"></a></dt>
<dd><p>A unique identifier of this user</p></dd>


<dt id="arg-name-display-name-given-name-middle-name-family-name-user">name_display, name_given, name_middle, name_family, name_user<a class="anchor" aria-label="anchor" href="#arg-name-display-name-given-name-middle-name-family-name-user"></a></dt>
<dd><p>The legal
name of the user. Will be combined to a single <code>name</code> field in the output
with the structure
<code>c(given = name_given, middle = name_middle, family = name_family, display = name_display, user = name_user)</code></p></dd>


<dt id="arg-emails">emails<a class="anchor" aria-label="anchor" href="#arg-emails"></a></dt>
<dd><p>A character vector of emails to the user. The vector can be
named in which case the names correspond to the category of email, e.g.
"work", "home" etc.</p></dd>


<dt id="arg-photos">photos<a class="anchor" aria-label="anchor" href="#arg-photos"></a></dt>
<dd><p>A character vector of urls pointing to profile pictures of the
user.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional named arguments to be added to the user information</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list of class <code>fireproof_user_info</code>. The fields of the list are as
provided in the arguments except for the <code>name_*</code> arguments which will be
combined to a single field. See the description of these arguments for more
information.</p>
    </div>
    <div id="setting-user-information">
    <h2>Setting user information</h2>
    <p>Each authentication scheme will write to a field in the session data store
named after its own name. What gets written can sometimes be influenced by
the user by passing in a function to the <code>user_info</code> argument of the
constructor. This function will, among other information be provided with a
<code>setter()</code> function which takes the same arguments as described above and
automatically assigns the result to the correct part of the session data
store. In some cases one or more of the arguments will have a default value
assigned (e.g. for <code><a href="auth_basic.html">auth_basic()</a></code>, the <code>setter()</code> will have <code>id</code> default to
the username). Further, the setter will also set the <code>scopes</code> field to the
<code>scopes</code> reported for the user, the <code>token</code> field with information about the
token (for <code><a href="auth_bearer.html">auth_bearer()</a></code>, <code><a href="auth_oauth2.html">auth_oauth2()</a></code> and <code><a href="auth_oidc.html">auth_oidc()</a></code>), and the
<code>.raw</code> field with the raw user info value returned by the service (for
<code><a href="auth_oidc.html">auth_oidc()</a></code> and some predefined OAuth2 providers such as <code><a href="auth_github.html">auth_github()</a></code>)</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">user_info</span><span class="op">(</span></span></span>
<span class="r-in"><span>  provider <span class="op">=</span> <span class="st">"local"</span>,</span></span>
<span class="r-in"><span>  id <span class="op">=</span> <span class="fl">1234</span>,</span></span>
<span class="r-in"><span>  name_display <span class="op">=</span> <span class="st">"thomasp85"</span>,</span></span>
<span class="r-in"><span>  name_given <span class="op">=</span> <span class="st">"Thomas"</span>,</span></span>
<span class="r-in"><span>  name_middle <span class="op">=</span> <span class="st">"Lin"</span>,</span></span>
<span class="r-in"><span>  name_family <span class="op">=</span> <span class="st">"Pedersen"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> provider: localid: 1234name: Thomas   , Lin      , Pedersen , thomasp85emails: NULLphotos: NULL</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Thomas Lin Pedersen.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

