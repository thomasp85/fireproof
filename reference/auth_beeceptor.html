<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Authenticate using the mock OAuth servers provided by Beeceptor — auth_beeceptor • fireproof</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Authenticate using the mock OAuth servers provided by Beeceptor — auth_beeceptor"><meta property="og:description" content="These two functions sets up mock OAuth 2.0 authentication based on tools
provided by
Beeceptor. These should
obviously not be used for production because they allow anyone to be
authenticated, but they can be used while testing your authentication setup."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fireproof</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/thomasp85/fireproof/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Authenticate using the mock OAuth servers provided by Beeceptor</h1>
    <small class="dont-index">Source: <a href="https://github.com/thomasp85/fireproof/blob/main/R/auth_beecoptor.R" class="external-link"><code>R/auth_beecoptor.R</code></a></small>
    <div class="hidden name"><code>auth_beeceptor.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These two functions sets up mock OAuth 2.0 authentication based on tools
provided by
<a href="https://app.beeceptor.com/mock-server/oauth-mock" class="external-link">Beeceptor</a>. These should
obviously not be used for production because they allow anyone to be
authenticated, but they can be used while testing your authentication setup.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">auth_beeceptor_github</span><span class="op">(</span></span>
<span>  <span class="va">redirect_url</span>,</span>
<span>  client_id <span class="op">=</span> <span class="st">"MOCK_CLIENT"</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"beeceptor_github"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">auth_beeceptor_google</span><span class="op">(</span></span>
<span>  <span class="va">redirect_url</span>,</span>
<span>  client_id <span class="op">=</span> <span class="st">"MOCK_CLIENT"</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"beeceptor_google"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-redirect-url">redirect_url<a class="anchor" aria-label="anchor" href="#arg-redirect-url"></a></dt>
<dd><p>The URL the authorization server should redirect to
following a successful authorization. Must be equivalent to one provided
when registering your application</p></dd>


<dt id="arg-client-id">client_id<a class="anchor" aria-label="anchor" href="#arg-client-id"></a></dt>
<dd><p>The ID issued by the authorization server when
registering your application</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments passed on to <code><a href="auth_oauth2.html">auth_oauth2</a></code></p><dl><dt><code>token_url</code></dt>
<dd><p>The URL to the authorization servers token endpoint</p></dd>

    <dt><code>client_secret</code></dt>
<dd><p>The secret issued by the authorization server when
registering your application. Do NOT store this in plain text</p></dd>

    <dt><code>auth_url</code></dt>
<dd><p>The URL to redirect the user to when requesting
authorization (only needed for <code>grant_type = "authorization_code"</code>)</p></dd>

    <dt><code>grant_type</code></dt>
<dd><p>The type of authorization scheme to use, either
<code>"authorization_code"</code> or <code>"password"</code></p></dd>

    <dt><code>scopes</code></dt>
<dd><p>Optional character vector of scopes to request the user to
grant you during authorization</p></dd>

    <dt><code>validate</code></dt>
<dd><p>Function to validate the user once logged in. It must
have a single argument <code>info</code>, which gets the information of the user as
provided by the <code>user_info</code> function in the. By default it returns <code>TRUE</code>
on everything meaning that anyone who can log in with the provider will
be accepted, but you can provide a different function to e.g. restrict
access to certain user names etc.</p></dd>

    <dt><code>redirect_path</code></dt>
<dd><p>The path that should capture redirects after
successful authorization. By default this is derived from <code>redirect_url</code>
by removing the domain part of the url, but if for some reason this
doesn't yields the correct result for your server setup you can overwrite
it here.</p></dd>

    <dt><code>on_auth</code></dt>
<dd><p>A function which will handle the result of a successful
authorization. It must have four arguments: <code>request</code>, <code>response</code>,
<code>session_state</code>, and <code>server</code>. The first contains the current request
being responded to, the second is the response being send back, the third
is a list recording the state of the original request which initiated the
authorization (containing <code>method</code>, <code>url</code>, <code>headers</code>, and <code>body</code> fields
with information from the original request). By default it will use
<a href="on_auth.html">replay_request</a> to internally replay the original request and send back
the response.</p></dd>

    <dt><code>user_info</code></dt>
<dd><p>A function to extract user information from the
authorization provider. It takes two arguments: <code>token_info</code> and <code>setter</code>,
the first being the token information returned from the provider as a
list (notably with a <code>token</code> field for the actual token), the second
being a function that must be called in the end with the relevant
information. The <code>setter</code> function takes the following arguments:
<code>provider</code> (the name of the oauth2 provider), <code>id</code> (the identifier of the
user), <code>display_name</code> (the name the user has chosen as public name),
<code>name_given</code> (the users real given name), <code>name_middle</code> (the users middle
name), <code>name_family</code> (the users family name), <code>emails</code> (a vector of
emails, potentially named with type, e.g. "work", "home" etc), <code>photos</code>
(a vector of urls for profile photos), and <code>...</code> with additional named
fields to add</p></dd>

    <dt><code>service_params</code></dt>
<dd><p>A named list of additional query params to add to
the url when constructing the authorization url in the
<code>"authorization_code"</code> grant type</p></dd>


</dl></dd>


<dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>The name of the scheme instance. This will also be the name
under which token info and user info is saved in the session store</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>An <a href="AuthOAuth2.html">AuthOAuth2</a> object</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Thomas Lin Pedersen.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

