<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Authentication and Authorization for fiery Servers • fireproof</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Authentication and Authorization for fiery Servers">
<meta name="description" content="Provides a plugin for fiery that supports various forms of authorization and authentication schemes. Schemes can be required in various combinations or by themselves and can be combined with scopes to provide fine-grained access control to the server.">
<meta property="og:description" content="Provides a plugin for fiery that supports various forms of authorization and authentication schemes. Schemes can be required in various combinations or by themselves and can be combined with scopes to provide fine-grained access control to the server.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">fireproof</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/fireproof.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/thomasp85/fireproof/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="fireproof">fireproof<a class="anchor" aria-label="anchor" href="#fireproof"></a>
</h1></div>
<!-- badges: start -->

<p>fireproof is a plugin for <a href="https://fiery.data-imaginist.com/" class="external-link">fiery</a> based servers. It provides a unified framework for adding authentication to your server backend.</p>
<p>fireproof supports multiple authentication routes for each endpoint so that you can specify that access to a certain endpoint requires either passing this and/or this challenges. The logic can be arbitrarily complex though for your own sanity it probably shouldn’t.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>fireproof can be installed from CRAN with <code>install.packages("fireproof")</code>. Alternatively, you can install the development version of fireproof from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"thomasp85/fireproof"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example which shows you how to solve a common problem:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/thomasp85/fireproof" class="external-link">fireproof</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create the plugin</span></span>
<span><span class="va">proof</span> <span class="op">&lt;-</span> <span class="va"><a href="reference/Fireproof.html">Fireproof</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create two different guards</span></span>
<span><span class="va">key_auth</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/guard_key.html">guard_key</a></span><span class="op">(</span></span>
<span>  key_name <span class="op">=</span> <span class="st">"FireproofKey"</span>,</span>
<span>  validate <span class="op">=</span> <span class="st">"VerySecretString"</span>,</span>
<span>  cookie <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="va">basic_auth</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/guard_basic.html">guard_basic</a></span><span class="op">(</span></span>
<span>  validate <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">user</span>, <span class="va">password</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">user</span> <span class="op">==</span> <span class="st">"thomas"</span> <span class="op">&amp;&amp;</span> <span class="va">password</span> <span class="op">==</span> <span class="st">"1234"</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add them to the plugin</span></span>
<span><span class="va">proof</span><span class="op">$</span><span class="fu">add_guard</span><span class="op">(</span><span class="va">key_auth</span>, <span class="st">"key"</span><span class="op">)</span></span>
<span><span class="va">proof</span><span class="op">$</span><span class="fu">add_guard</span><span class="op">(</span><span class="va">basic_auth</span>, <span class="st">"basic"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add authentication to some endpoints with varying combinations of requirements</span></span>
<span><span class="va">proof</span><span class="op">$</span><span class="fu">add_auth</span><span class="op">(</span><span class="st">"get"</span>, <span class="st">"/user/settings"</span>, <span class="va">basic</span><span class="op">)</span> <span class="co"># must pass basic auth</span></span>
<span><span class="va">proof</span><span class="op">$</span><span class="fu">add_auth</span><span class="op">(</span><span class="st">"get"</span>, <span class="st">"/api/predict"</span>, <span class="va">key</span> <span class="op">||</span> <span class="va">basic</span><span class="op">)</span> <span class="co"># must pass either</span></span>
<span><span class="va">proof</span><span class="op">$</span><span class="fu">add_auth</span><span class="op">(</span><span class="st">"get"</span>, <span class="st">"/strong/auth"</span>, <span class="va">key</span> <span class="op">&amp;&amp;</span> <span class="va">basic</span><span class="op">)</span> <span class="co"># must pass both</span></span>
<span></span>
<span><span class="co"># If you have even more authenticators you can group conditions with () as well</span></span>
<span></span>
<span></span>
<span><span class="co"># Create a fiery app with a firestore plugin and attach the plugin</span></span>
<span><span class="va">app</span> <span class="op">&lt;-</span> <span class="fu">fiery</span><span class="fu">::</span><span class="va"><a href="https://fiery.data-imaginist.com/reference/Fire.html" class="external-link">Fire</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">fs</span> <span class="op">&lt;-</span> <span class="fu">firesale</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/firesale/man/FireSale.html" class="external-link">FireSale</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="fu">storr</span><span class="fu">::</span><span class="fu"><a href="https://richfitz.github.io/storr/reference/storr_environment.html" class="external-link">driver_environment</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">app</span><span class="op">$</span><span class="kw">attach</span><span class="op">(</span><span class="va">fs</span><span class="op">)</span></span>
<span></span>
<span><span class="va">app</span><span class="op">$</span><span class="kw">attach</span><span class="op">(</span><span class="va">proof</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="oauth-20-and-openid-connect">OAuth 2.0 and OpenID Connect<a class="anchor" aria-label="anchor" href="#oauth-20-and-openid-connect"></a>
</h2>
<p>A lot of authorization on the internet has moved towards OAuth 2.0 and the authentication layer build on top of it (OpenID Connect). fireproof supports both of these and have basic constructors for both flows that take the required authorization or discovery endpoints and takes care of the rest. It also comes with a selection of predefined constructors for well-known providers such as Google and GitHub that makes it easy to use them. If you want to use another provider than one already available I’ll invite you create a PR for it based on how the current providers have been implemented. In this way we can gradually grow the number of providers offered out of the box based on what the community needs.</p>
<div class="section level3">
<h3 id="current-oauthopenid-connect-support">Current OAuth/OpenID Connect support<a class="anchor" aria-label="anchor" href="#current-oauthopenid-connect-support"></a>
</h3>
<ul>
<li>Google✽</li>
<li>GitHub</li>
<li>Beeceptor (Used for mocking)</li>
</ul>
<p>✽ <em>OpenID Connect</em></p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/thomasp85/fireproof/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/thomasp85/fireproof/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing fireproof</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Thomas Lin Pedersen <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-5147-4711" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Posit, PBC <br><small class="roles"> Copyright holder, funder </small>  <a href="https://ror.org/03wc8by49" class="external-link"><img src="https://raw.githubusercontent.com/ror-community/ror-logos/main/ror-icon-rgb.svg" class="ror" alt="ROR"></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/thomasp85/fireproof/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/thomasp85/fireproof/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/thomasp85/fireproof" class="external-link"><img src="https://codecov.io/gh/thomasp85/fireproof/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Thomas Lin Pedersen, Posit, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
